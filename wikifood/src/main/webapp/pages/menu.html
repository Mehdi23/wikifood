<div class="row">
    <div class="col-md-3">
	    <div class="box box-default">
		    <div class="box-body">
			  <div class="mailbox-controls">
                <!-- Check all button -->
                <div class="btn-group">
                  <button id="menu-save" class="btn btn-default btn-sm" type="button"><i class="fa fa-save"></i></button>
				  <button class="btn btn-default btn-sm" type="button"><i class="fa fa-trash-o"></i></button>
                </div>
		      </div>
			  <form role="form">
                <!-- text input -->
                <div class="form-group">
                  <label>Article</label>
                  <input id="menu-article-input" type="text" placeholder="Enter ..." class="form-control">
                </div>
				<div class="form-group">
                  <label>Type Article</label>
                  <input id="menu-typearticle-input" type="text" placeholder="Enter ..." class="form-control">
                </div>
                <div class="form-group">
                  <label>Prix</label>
                  <input id="menu-prix-input" type="number" placeholder="Enter ..." class="form-control">
                </div>
				<div class="form-group">
                  <div class="checkbox">
                    <label>
                      <input id="menu-disponible-input" type="checkbox">
                      Disponible
                    </label>
                  </div>
                </div>
              </form>
			</div>
		</div>
		
	</div>
    <div class="col-md-9">
        <div class="box box-default">
            <div class="box-header with-border">
              <h3 class="box-title">Mes elements</h3>
              <!-- /.box-tools -->
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <table id="my-final-table" class="table table-hover">
                 <thead>
				    <tr>
                        <th data-dynatable-column="id">id</th>
                        <th data-dynatable-column="articlelabel">articlelabel</th>
						<th data-dynatable-column="typearticlelabel">typearticlelabel</th>
						<th data-dynatable-column="prix">prix</th>
						<th data-dynatable-column="disponible">disponible</th>
					</tr>
                 </thead>
                 <tbody>
                 </tbody>
               </table>
            <!-- /.box-body -->
			</div>
        </div>
        <!-- /.box -->
    </div>
    <!-- /.col -->
        
</div>
<!-- /.row -->
<script>
var menuitem = {"article" : 0};

$.ajax({
  url: rootURL + '/menuitem',
  success: function(data){
    $('#my-final-table').dynatable({
      dataset: {
        records: data
      }
    });
  }
});


var options = {
	url: function() {
		return rootURL + '/article'
	},

	getValue: "itemLabelFr",
	
	list: {

		onSelectItemEvent: function() {
			menuitem["article"] = $("#menu-article-input").getSelectedItemData().id;
			menuitem["articlelabel"] = $("#menu-article-input").getSelectedItemData().itemLabelFr;
		}
	}
};

$("#menu-article-input").easyAutocomplete(options);

var options = {
	url: function() {
		return rootURL + '/typearticle'
	},

	getValue: "itemLabelFr",
	
	list: {

		onSelectItemEvent: function() {
			//var value = $("#menu-typearticle-input").getSelectedItemData().id;		
			menuitem["typearticle"] = $("#menu-typearticle-input").getSelectedItemData().id;
			menuitem["typearticlelabel"] = $("#menu-typearticle-input").getSelectedItemData().itemLabelFr;
		}
	}
};

$("#menu-typearticle-input").easyAutocomplete(options);

$( "#menu-save" ).click(function() {
     menuitem["prix"] = $( "#menu-prix-input" ).val();
	 menuitem["disponible"] = $( "#menu-disponible-input" ).prop( "checked" );
	 $.ajax({
		type : 'POST',
		url : rootURL + '/menuitem/save',
		contentType: 'application/json',
		dataType : 'json',
		data : JSON.stringify(menuitem),
		success : function(data) {
			alert('Saved ...');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			alert('Add error');
		}
	});
});
</script>